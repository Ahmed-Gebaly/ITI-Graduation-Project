upstream backend {
         server node1.app1.project.com max_fails=3 fail_timeout=1s;
         server node2.app1.project.com max_fails=3 fail_timeout=1s;
                                                 }

                server {
                                listen  443 ssl;
                                location / {
                                proxy_pass http://backend;

                                                   }
                                ssl_certificate       /etc/ssl/certs/ansible.com.crt;
                                ssl_certificate_key   /etc/ssl/private/ansible.com.pem;
                                ssl on;
                                        }


 server {
                                listen 80 ;
server_name  app1.project.com, 10.0.2.10;
return 301  https://$host$request_uri;


         }
